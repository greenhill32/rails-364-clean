PROGRESS LOG - February 14, 2026 + February 16, 2026

================================================================================
WHAT WE DID TODAY
================================================================================

1. Added routing for pick-golden-day.tsx screen
   - File already existed: app/pick-golden-day.tsx
   - Confirmed Expo Router file-based routing auto-generates route from filename
   - No additional routing config needed; route `/pick-golden-day` works automatically

2. Fixed about.tsx screen flow
   - Added auto-progression: navigates to `/pick-golden-day` after 3 seconds
   - Kept "Begin" button so users can skip ahead manually
   - Pattern: useEffect with setTimeout → router.replace()

3. Created CLAUDE.md project documentation
   - Comprehensive guide for future Claude Code instances
   - Covers: development commands, routing architecture, directory structure
   - Documents: tech stack, common patterns, styling conventions, path aliases
   - Includes current screen navigation flow and onboarding pattern


================================================================================
WHAT WENT RIGHT
================================================================================

✓ Expo Router file-based routing eliminated need for manual route registration
  - File structure automatically becomes API surface
  - Clean, intuitive system for adding new screens

✓ Quick fix for about.tsx using proven pattern
  - Reused auto-progression pattern from index.tsx
  - Both button and auto-navigation provide good UX options

✓ CLAUDE.md creation captured project knowledge efficiently
  - File-based routing, screen flow, styling conventions now documented
  - Tech stack details preserved for next session
  - Path aliases, build config, common patterns all noted

✓ Project uses TypeScript with strict mode - type safety enabled


================================================================================
WHAT WENT WRONG
================================================================================

✗ Initial confusion about routing setup
  - I didn't immediately recognize Expo Router handles routes via file structure
  - Expected manual route config when none was needed
  - Required clarification from user

✗ Incomplete understanding of app flow on first pass
  - Didn't check about.tsx until asked to fix the "second screen stops" issue
  - Should have mapped full screen navigation flow earlier


================================================================================
LESSONS LEARNED
================================================================================

1. Expo Router is file-based by default
   - Files in app/ directory automatically become routes
   - Filename → URL path (pick-golden-day.tsx → /pick-golden-day)
   - No manual routing setup needed; conventions over configuration

2. Ask clarifying questions upfront
   - "Either add button or auto progress" was ambiguous
   - Could have asked user preference before implementing
   - Instead, added auto-progress which complemented existing button

3. Map screen flows early when working with navigation
   - Index → About → PickGoldenDay → Calendar (not yet created)
   - Understanding the full flow prevents duplicate work

4. Auto-progression pattern is useful for onboarding
   - User can wait or click to skip
   - Pattern: useEffect + setTimeout + router.replace()
   - Improves UX vs. forcing user to click

5. Document architecture decisions immediately
   - CLAUDE.md captures routing approach, styling, tech stack
   - Prevents future sessions from re-learning project structure
   - Focus on "why" and "where things go" not "how to use React"

6. TypeScript with strict mode catches issues early
   - Project already has strict: true
   - Leverage this for catching bugs in new code


================================================================================
NEXT STEPS (RECOMMENDATIONS)
================================================================================

- we are building minimalistic, no friction submission just to get working testflight submission
- all previous attempts have failed. we are building bare bones.
- to see where error is. I have submitted. using eas build -p ios --auto-submit
- now waiting

Fonts not the same.
on calendar screen th highlighted gold day the gold pill is not centered on day
there is no settings cog and settings modal


================================================================================
SESSION - February 16, 2026
================================================================================

WHAT WE DID
-----------

1. Added full quotes to constants/quotes.ts
   - All 364 quotes now in the app

2. Fixed lint warning in app/index.tsx
   - react-hooks/exhaustive-deps: added `router` to useEffect dependency array
   - Lint now passes clean (0 errors, 0 warnings)

3. Committed full app implementation
   - 25 files changed, 2189 insertions
   - New screens: index, about, calendar, explore, golden-day-splash,
     pick-golden-day, tabs-layout
   - New components: AmoreModal, QuoteModal, SettingsModal
   - New constants: colors, quotes
   - New contexts: GoldenDayContext
   - Updated app.json: app name "364 Ways to Say No", v2.0.0, EAS config
   - Added eas.json, datetimepicker + lucide-react-native deps

4. Set up GitHub remote and pushed
   - Installed gh CLI via Homebrew
   - Added remote: https://github.com/greenhill32/rails-364-clean
   - Resolved conflict with GitHub auto-generated README, pushed successfully

OUTSTANDING ISSUES (carried forward)
--------------------------------------
- Fonts not the same across screens Garamond & Cormorant
- Counter (X/364) is on QuoteModal — may also want it on calendar screen below "364" header


================================================================================
SESSION - February 16, 2026 (evening)
================================================================================

WHAT WE DID
-----------

1. Implemented quote counter + paywall gate
   - Installed @react-native-async-storage/async-storage
   - Added quotesUsed, isPurchased, incrementQuotesUsed to GoldenDayContext
   - Both values persisted to AsyncStorage (quotes_used, is_purchased)
   - Added "X / 364" counter to QuoteModal (below bottom divider, above Share)
   - Created PaywallModal component (matches existing modal style)
   - Gated calendar taps: first 3 free → QuoteModal, 4th+ → PaywallModal
   - Counter persists across app restarts

2. Bumped iOS buildNumber from "1" to "2" in app.json

3. Attempted EAS build for App Store submission
   - Hit free plan monthly iOS build limit (resets Mar 1, 2026)
   - Tried local Xcode build as alternative
   - Xcode took too long to index; deferred to next session

================================================================================
SESSION - February 17, 2026
================================================================================

WHAT WE DID
-----------

1. Switched from EAS to CLI-based iOS build pipeline
   - Avoided Xcode GUI entirely using xcodebuild commands
   - Much more predictable and repeatable than EAS

2. Set up iOS signing
   - Generated CSR and private key for distribution certificate
   - Downloaded distribution certificate from Apple Developer account
   - Imported both key and cert to Keychain
   - Verified signing identity: Apple Distribution: lee manley (ZARBU8R8ML)

3. Built, archived, exported, and uploaded to App Store Connect
   - Bumped buildNumber from 2 → 3 in app.json
   - Ran xcodebuild archive with Release config
   - Exported signed IPA using ExportOptions.plist
   - Uploaded IPA to App Store Connect using xcrun altool
   - Build 3 successfully submitted (Delivery UUID: 061413ff-425c-4df7-b909-11e86961e5e8)

4. Created reusable build-ios.sh script
   - Single command builds, exports, and uploads
   - Prompts for new build number (auto-increments if not specified)
   - Automatically updates app.json with new build number
   - Prompts for app-specific password at upload stage
   - Removes need to ever use Xcode GUI again

5. Updated .gitignore
   - Added build/ (archives and exports)
   - Added *.cer, *.csr (signing files)

RESULT
------
✓ App Build 3 (v2.0.0) submitted to App Store Connect
✓ No crashes from TestFlight
✓ Complete CLI workflow replaces EAS and Xcode GUI
✓ Ready for production

NEXT TIME
---------
- Run: ./build-ios.sh
- Enter new build number when prompted
- Enter app-specific password
- Done

